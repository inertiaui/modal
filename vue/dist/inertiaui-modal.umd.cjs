(function(x,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue"),require("@inertiajs/vue3"),require("@inertiajs/core"),require("axios")):typeof define=="function"&&define.amd?define(["exports","vue","@inertiajs/vue3","@inertiajs/core","axios"],e):(x=typeof globalThis<"u"?globalThis:x||self,e(x.InertiaUIModal={},x.vue,x.vue3,x.core,x.Axios))})(this,function(x,e,v,Le,V){"use strict";var yn=Object.defineProperty;var wn=(x,e,v)=>e in x?yn(x,e,{enumerable:!0,configurable:!0,writable:!0,value:v}):x[e]=v;var O=(x,e,v)=>wn(x,typeof e!="symbol"?e+"":e,v);function Fe(n){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(n){for(const o in n)if(o!=="default"){const r=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:()=>n[o]})}}return t.default=n,Object.freeze(t)}const _=Fe(e),j={type:"modal",navigate:!1,modal:{closeButton:!0,closeExplicitly:!1,maxWidth:"2xl",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white rounded",position:"center"},slideover:{closeButton:!0,closeExplicitly:!1,maxWidth:"md",paddingClasses:"p-4 sm:p-6",panelClasses:"bg-white min-h-screen",position:"right"}};class Ue{constructor(){this.config={},this.reset()}reset(){this.config=JSON.parse(JSON.stringify(j))}put(t,o){if(typeof t=="object"){this.config={type:t.type??j.type,navigate:t.navigate??j.navigate,modal:{...j.modal,...t.modal??{}},slideover:{...j.slideover,...t.slideover??{}}};return}const r=t.split(".");let s=this.config;for(let a=0;a<r.length-1;a++)s=s[r[a]]=s[r[a]]||{};s[r[r.length-1]]=o}get(t){if(typeof t>"u")return this.config;const o=t.split(".");let r=this.config;for(const s of o){if(r[s]===void 0)return null;r=r[s]}return r}}const K=new Ue,je=()=>K.reset(),Re=(n,t)=>K.put(n,t),q=n=>K.get(n),N=(n,t)=>K.get(n?`slideover.${t}`:`modal.${t}`);function We(n,t){return n=typeof n=="string"?new URL(n,window.location.origin):n,t=typeof t=="string"?new URL(t,window.location.origin):t,`${n.origin}${n.pathname}`==`${t.origin}${t.pathname}`}function Q(n="inertiaui_modal_"){return typeof crypto<"u"&&typeof crypto.randomUUID=="function"?`${n}${crypto.randomUUID()}`:`${n}${Date.now().toString(36)}_${Math.random().toString(36).substr(2,9)}`}function T(n){return typeof n=="string"?n.toLowerCase():n}function Ve(n,t,o=!1){return o&&(t=t.map(T)),Array.isArray(n)?n.filter(r=>!t.includes(o?T(r):r)):Object.keys(n).reduce((r,s)=>(t.includes(o?T(s):s)||(r[s]=n[s]),r),{})}function ue(n,t,o=!1){return o&&(t=t.map(T)),Array.isArray(n)?n.filter(r=>t.includes(o?T(r):r)):Object.keys(n).reduce((r,s)=>(t.includes(o?T(s):s)&&(r[s]=n[s]),r),{})}function _e(n){return Array.isArray(n)?n.filter(t=>t!==null):Object.keys(n).reduce((t,o)=>(o in n&&n[o]!==null&&(t[o]=n[o]),t),{})}function z(n){return n?(n=n.replace(/_/g,"-"),n=n.replace(/-+/g,"-"),/[A-Z]/.test(n)?(n=n.replace(/\s+/g,"").replace(/_/g,"").replace(/(?:^|\s|-)+([A-Za-z])/g,(t,o)=>o.toUpperCase()),n=n.replace(/(.)(?=[A-Z])/g,"$1-"),n.toLowerCase()):n):""}const fe={__name:"ModalRenderer",props:{index:{type:Number,required:!0}},setup(n){const t=n,o=W(),r=e.computed(()=>o.stack.value[t.index]);return e.provide("modalContext",r),(s,a)=>{var i;return(i=r.value)!=null&&i.component?(e.openBlock(),e.createBlock(e.unref(r).component,e.mergeProps({key:0},e.unref(ue)(r.value.props??{},r.value.getComponentPropKeys(),!0),{onModalEvent:a[0]||(a[0]=(l,...c)=>r.value.emit(l,...c))}),null,16)):e.createCommentVNode("",!0)}}},me={__name:"ModalRoot",setup(n){const t=W(),o=v.usePage();let r=!1,s=null,a=!1;e.onUnmounted(v.router.on("start",()=>r=!0)),e.onUnmounted(v.router.on("finish",()=>r=!1)),e.onUnmounted(v.router.on("navigate",l=>{const c=l.detail.page.props._inertiaui_modal;if(!c){s&&t.closeAll(),t.setBaseUrl(null),a=!1;return}s=c,t.setBaseUrl(c.baseUrl),t.pushFromResponseData(c,{},()=>{if(!c.baseUrl){console.error("No base url in modal response data so cannot navigate back");return}!r&&window.location.href!==c.baseUrl&&v.router.visit(c.baseUrl,{preserveScroll:!0,preserveState:!0})}).then(t.onModalOnBase)}));const i=l=>{var c;return l.headers["X-InertiaUI-Modal-Base-Url"]=t.getBaseUrl()??(a?(c=o.props._inertiaui_modal)==null?void 0:c.baseUrl:null),l};return e.onBeforeMount(()=>V.interceptors.request.use(i)),e.onMounted(()=>a=!!o.props._inertiaui_modal),e.onUnmounted(()=>V.interceptors.request.eject(i)),e.watch(()=>{var l;return(l=o.props)==null?void 0:l._inertiaui_modal},(l,c)=>{var m;l&&c&&l.component===c.component&&We(l.url,c.url)&&((m=t.stack.value[0])==null||m.updateProps(l.props??{}))}),(l,c)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.renderSlot(l.$slots,"default"),e.unref(t).stack.value.length?(e.openBlock(),e.createBlock(fe,{key:0,index:0})):e.createCommentVNode("",!0)],64))}};let X=null;const L=e.ref({}),R=e.ref(null),ee=e.ref({}),b=e.ref([]),H=e.ref({}),Ke=n=>{X=n},qe=n=>{n.resolveComponent&&(X=n.resolveComponent)};class ze{constructor(t,o,r,s,a){O(this,"getComponentPropKeys",()=>Array.isArray(this.component.props)?this.component.props:this.component.props?Object.keys(this.component.props):[]);O(this,"getParentModal",()=>{const t=this.index.value;return t<1?null:b.value.slice(0,t).reverse().find(o=>o.isOpen)});O(this,"getChildModal",()=>{const t=this.index.value;return t===b.value.length-1?null:b.value.slice(t+1).find(o=>o.isOpen)});O(this,"show",()=>{const t=this.index.value;if(t>-1){if(b.value[t].isOpen)return;b.value[t].isOpen=!0,b.value[t].shouldRender=!0}});O(this,"close",()=>{var o;const t=this.index.value;if(t>-1){if(!b.value[t].isOpen)return;Object.keys(this.listeners).forEach(r=>{this.off(r)}),b.value[t].isOpen=!1,(o=this.onCloseCallback)==null||o.call(this),this.onCloseCallback=null}});O(this,"setOpen",t=>{t?this.show():this.close()});O(this,"afterLeave",()=>{var o;const t=this.index.value;if(t>-1){if(b.value[t].isOpen)return;b.value[t].shouldRender=!1,(o=this.afterLeaveCallback)==null||o.call(this),this.afterLeaveCallback=null}t===0&&(b.value=[])});O(this,"on",(t,o)=>{t=z(t),this.listeners[t]=this.listeners[t]??[],this.listeners[t].push(o)});O(this,"off",(t,o)=>{var r;t=z(t),o?this.listeners[t]=((r=this.listeners[t])==null?void 0:r.filter(s=>s!==o))??[]:delete this.listeners[t]});O(this,"emit",(t,...o)=>{var r;(r=this.listeners[z(t)])==null||r.forEach(s=>s(...o))});O(this,"registerEventListenersFromAttrs",t=>{const o=[];return Object.keys(t).filter(r=>r.startsWith("on")).forEach(r=>{const s=z(r).replace(/^on-/,"");this.on(s,t[r]),o.push(()=>this.off(s,t[r]))}),()=>o.forEach(r=>r())});O(this,"reload",(t={})=>{var a,i;let o=Object.keys(this.response.props);if(t.only&&(o=t.only),t.except&&(o=Ve(o,t.except)),!((a=this.response)!=null&&a.url))return;const r=(t.method??"get").toLowerCase(),s=t.data??{};(i=t.onStart)==null||i.call(t),V({url:this.response.url,method:r,data:r==="get"?{}:s,params:r==="get"?s:{},headers:{...t.headers??{},Accept:"text/html, application/xhtml+xml","X-Inertia":!0,"X-Inertia-Partial-Component":this.response.component,"X-Inertia-Version":this.response.version,"X-Inertia-Partial-Data":o.join(","),"X-InertiaUI-Modal":Q(),"X-InertiaUI-Modal-Use-Router":0,"X-InertiaUI-Modal-Base-Url":R.value}}).then(l=>{var c;this.updateProps(l.data.props),(c=t.onSuccess)==null||c.call(t,l)}).catch(l=>{var c;(c=t.onError)==null||c.call(t,l)}).finally(()=>{var l;(l=t.onFinish)==null||l.call(t)})});O(this,"updateProps",t=>{Object.assign(this.props.value,t)});if(this.id=o.id??Q(),this.isOpen=!1,this.shouldRender=!1,this.listeners={},this.component=t,this.props=e.ref(o.props),this.response=o,this.config=r??{},this.onCloseCallback=s,this.afterLeaveCallback=a,L.value[this.id]){this.config={...this.config,...L.value[this.id].config??{}};const i=L.value[this.id].onClose,l=L.value[this.id].onAfterLeave;i&&(this.onCloseCallback=s?()=>{s(),i()}:i),l&&(this.afterLeaveCallback=a?()=>{a(),l()}:l),delete L.value[this.id]}this.index=e.computed(()=>b.value.findIndex(i=>i.id===this.id)),this.onTopOfStack=e.computed(()=>{var l;return b.value.length<2?!0:((l=b.value.map(c=>({id:c.id,shouldRender:c.shouldRender})).reverse().find(c=>c.shouldRender))==null?void 0:l.id)===this.id})}}function Xe(n,t){H.value[n]={name:n,callback:t}}function He(n,t,o,r){if(!H.value[n])throw new Error(`The local modal "${n}" has not been registered.`);const s=te(null,{},t,o,r);return s.name=n,H.value[n].callback(s),s}function pe(n,t={},o=null,r=null){return X(n.component).then(s=>te(e.markRaw(s),n,t,o,r))}function Ge(n,t,o={},r={},s={},a=null,i=null,l="brackets",c=!1){const m=Q();return new Promise((u,f)=>{if(n.startsWith("#")){u(He(n.substring(1),s,a,i));return}const[h,d]=Le.mergeDataIntoQueryString(t,n||"",o,l);let p=c&&b.value.length===0;if(b.value.length===0&&(R.value=typeof window<"u"?window.location.href:""),r={...r,Accept:"text/html, application/xhtml+xml","X-Requested-With":"XMLHttpRequest","X-Inertia":!0,"X-Inertia-Version":v.usePage().version,"X-InertiaUI-Modal":m,"X-InertiaUI-Modal-Use-Router":p?1:0,"X-InertiaUI-Modal-Base-Url":R.value},p)return L.value[m]={config:s,onClose:a,onAfterLeave:i},v.router.visit(h,{method:t,data:d,headers:r,preserveScroll:!0,preserveState:!0,onError:f,onBefore:()=>{ee.value[m]=u}});V({url:h,method:t,data:d,headers:r}).then(g=>u(pe(g.data,s,a,i))).catch(f)})}function Je(n){var o,r;const t=(r=(o=n.response)==null?void 0:o.meta)==null?void 0:r.deferredProps;t&&Object.keys(t).forEach(s=>{n.reload({only:t[s]})})}function te(n,t,o,r,s){const a=new ze(n,t,o,r,s);return b.value.push(a),Je(a),e.nextTick(()=>a.show()),a}const Ye=["closeButton","closeExplicitly","maxWidth","paddingClasses","panelClasses","position","slideover"],Ze=(n,t)=>(t.resolveComponent&&(X=t.resolveComponent),()=>e.h(me,()=>e.h(n,t)));function W(){return{setComponentResolver:Ke,getBaseUrl:()=>R.value,setBaseUrl:n=>R.value=n,stack:e.readonly(b),push:te,pushFromResponseData:pe,closeAll:()=>[...b.value].reverse().forEach(n=>n.close()),reset:()=>b.value=[],visit:Ge,registerLocalModal:Xe,removeLocalModal:n=>delete H.value[n],onModalOnBase(n){const t=ee.value[n.id];t&&(t(n),delete ee.value[n.id])}}}function Qe(){return e.toValue(e.inject("modalContext",null))}const et={__name:"Deferred",props:{data:{type:[String,Array],required:!0}},setup(n){const t=n,o=e.inject("modalContext");if(!o)throw new Error("Deferred component must be used inside a Modal component");const r=e.computed(()=>(Array.isArray(t.data)?t.data:[t.data]).every(a=>o.value.props[a]!==void 0));return(s,a)=>r.value?e.renderSlot(s.$slots,"default",{key:0}):e.renderSlot(s.$slots,"fallback",{key:1})}},he=Object.assign({inheritAttrs:!1},{__name:"HeadlessModal",props:{name:{type:String,required:!1},slideover:{type:Boolean,default:null},closeButton:{type:Boolean,default:null},closeExplicitly:{type:Boolean,default:null},maxWidth:{type:String,default:null},paddingClasses:{type:[Boolean,String],default:null},panelClasses:{type:[Boolean,String],default:null},position:{type:String,default:null}},emits:["modal-event","focus","blur","close","success"],setup(n,{expose:t,emit:o}){const r=n,s=W(),a=r.name?e.ref({}):e.inject("modalContext"),i=e.computed(()=>{var p;const d=((p=a.value.config)==null?void 0:p.slideover)??r.slideover??q("type")==="slideover";return{slideover:d,closeButton:r.closeButton??N(d,"closeButton"),closeExplicitly:r.closeExplicitly??N(d,"closeExplicitly"),maxWidth:r.maxWidth??N(d,"maxWidth"),paddingClasses:r.paddingClasses??N(d,"paddingClasses"),panelClasses:r.panelClasses??N(d,"panelClasses"),position:r.position??N(d,"position"),...a.value.config}});r.name&&(s.registerLocalModal(r.name,function(d){a.value=d,m()}),e.onBeforeUnmount(()=>{s.removeLocalModal(r.name)})),e.onMounted(()=>{r.name||m()});const l=e.ref(null);e.onBeforeUnmount(()=>{var d;return(d=l.value)==null?void 0:d.call(l)});const c=e.useAttrs();function m(){l.value=a.value.registerEventListenersFromAttrs(c)}const u=o;function f(d,...p){u("modal-event",d,...p)}t({emit:f,afterLeave:()=>{var d;return(d=a.value)==null?void 0:d.afterLeave()},close:()=>{var d;return(d=a.value)==null?void 0:d.close()},reload:(...d)=>{var p;return(p=a.value)==null?void 0:p.reload(...d)},setOpen:(...d)=>{var p;return(p=a.value)==null?void 0:p.setOpen(...d)},getChildModal:()=>{var d;return(d=a.value)==null?void 0:d.getChildModal()},getParentModal:()=>{var d;return(d=a.value)==null?void 0:d.getParentModal()},get config(){var d;return(d=a.value)==null?void 0:d.config},get id(){var d;return(d=a.value)==null?void 0:d.id},get index(){var d;return(d=a.value)==null?void 0:d.index},get isOpen(){var d;return(d=a.value)==null?void 0:d.isOpen},get modalContext(){var d;return(d=a.value)==null?void 0:d.modalContext},get onTopOfStack(){var d;return(d=a.value)==null?void 0:d.onTopOfStack},get shouldRender(){var d;return(d=a.value)==null?void 0:d.shouldRender}}),e.watch(()=>{var d;return(d=a.value)==null?void 0:d.onTopOfStack},(d,p)=>{d&&!p?u("focus"):!d&&p&&u("blur")}),e.watch(()=>{var d;return(d=a.value)==null?void 0:d.isOpen},d=>{u(d?"success":"close")},{immediate:!0});const h=e.computed(()=>{var d;return(d=s.stack.value.find(p=>p.shouldRender&&p.index>a.value.index))==null?void 0:d.index});return(d,p)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.unref(a).shouldRender?e.renderSlot(d.$slots,"default",{key:0,id:e.unref(a).id,afterLeave:e.unref(a).afterLeave,close:e.unref(a).close,config:i.value,emit:f,getChildModal:e.unref(a).getChildModal,getParentModal:e.unref(a).getParentModal,index:e.unref(a).index,isOpen:e.unref(a).isOpen,modalContext:e.unref(a),onTopOfStack:e.unref(a).onTopOfStack,reload:e.unref(a).reload,setOpen:e.unref(a).setOpen,shouldRender:e.unref(a).shouldRender}):e.createCommentVNode("",!0),h.value?(e.openBlock(),e.createBlock(fe,{key:1,index:h.value},null,8,["index"])):e.createCommentVNode("",!0)],64))}});function ne(n){return n?n.flatMap(t=>t.type===e.Fragment?ne(t.children):[t]):[]}const tt=e.defineComponent({name:"PrimitiveSlot",inheritAttrs:!1,setup(n,{attrs:t,slots:o}){return()=>{var c;if(!o.default)return null;const r=ne(o.default()),s=r.findIndex(m=>m.type!==e.Comment);if(s===-1)return r;const a=r[s];(c=a.props)==null||delete c.ref;const i=a.props?e.mergeProps(t,a.props):t,l=e.cloneVNode({...a,props:{}},i);return r.length===1?l:(r[s]=l,r)}}}),nt=["area","img","input"],F=e.defineComponent({name:"Primitive",inheritAttrs:!1,props:{asChild:{type:Boolean,default:!1},as:{type:[String,Object],default:"div"}},setup(n,{attrs:t,slots:o}){const r=n.asChild?"template":n.as;return typeof r=="string"&&nt.includes(r)?()=>e.h(r,t):r!=="template"?()=>e.h(n.as,t,{default:o.default}):()=>e.h(tt,t,{default:o.default})}}),ge=e.defineComponent({__name:"VisuallyHidden",props:{feature:{default:"focusable"},asChild:{type:Boolean},as:{default:"span"}},setup(n){return(t,o)=>(e.openBlock(),e.createBlock(e.unref(F),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal"}},{default:e.withCtx(()=>[e.renderSlot(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}});function ye(n){return e.getCurrentScope()?(e.onScopeDispose(n),!0):!1}function ot(n){let t=!1,o;const r=e.effectScope(!0);return(...s)=>(t||(o=r.run(()=>n(...s)),t=!0),o)}function rt(n){let t=0,o,r;const s=()=>{t-=1,r&&t<=0&&(r.stop(),o=void 0,r=void 0)};return(...a)=>(t+=1,r||(r=e.effectScope(!0),o=r.run(()=>n(...a))),ye(s),o)}const I=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const at=n=>typeof n<"u",st=Object.prototype.toString,it=n=>st.call(n)==="[object Object]",we=lt();function lt(){var n,t;return I&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function ct(n){return e.getCurrentInstance()}function oe(n){return Array.isArray(n)?n:[n]}function dt(n,t){ct()&&e.onBeforeUnmount(n,t)}function ut(n,t,o){return e.watch(n,t,{...o,immediate:!0})}const re=I?window:void 0;function G(n){var t;const o=e.toValue(n);return(t=o==null?void 0:o.$el)!=null?t:o}function xe(...n){const t=[],o=()=>{t.forEach(l=>l()),t.length=0},r=(l,c,m,u)=>(l.addEventListener(c,m,u),()=>l.removeEventListener(c,m,u)),s=e.computed(()=>{const l=oe(e.toValue(n[0])).filter(c=>c!=null);return l.every(c=>typeof c!="string")?l:void 0}),a=ut(()=>{var l,c;return[(c=(l=s.value)==null?void 0:l.map(m=>G(m)))!=null?c:[re].filter(m=>m!=null),oe(e.toValue(s.value?n[1]:n[0])),oe(e.unref(s.value?n[2]:n[1])),e.toValue(s.value?n[3]:n[2])]},([l,c,m,u])=>{if(o(),!(l!=null&&l.length)||!(c!=null&&c.length)||!(m!=null&&m.length))return;const f=it(u)?{...u}:u;t.push(...l.flatMap(h=>c.flatMap(d=>m.map(p=>r(h,d,p,f)))))},{flush:"post"}),i=()=>{a(),o()};return ye(o),i}function ft(){const n=e.shallowRef(!1),t=e.getCurrentInstance();return t&&e.onMounted(()=>{n.value=!0},t),n}function mt(n){return typeof n=="function"?n:typeof n=="string"?t=>t.key===n:Array.isArray(n)?t=>n.includes(t.key):()=>!0}function pt(...n){let t,o,r={};n.length===3?(t=n[0],o=n[1],r=n[2]):n.length===2?typeof n[1]=="object"?(t=!0,o=n[0],r=n[1]):(t=n[0],o=n[1]):(t=!0,o=n[0]);const{target:s=re,eventName:a="keydown",passive:i=!1,dedupe:l=!1}=r,c=mt(t);return xe(s,a,u=>{u.repeat&&e.toValue(l)||c(u)&&o(u)},i)}function ht(n){return JSON.parse(JSON.stringify(n))}function gt(n,t,o,r={}){var s,a,i;const{clone:l=!1,passive:c=!1,eventName:m,deep:u=!1,defaultValue:f,shouldEmit:h}=r,d=e.getCurrentInstance(),p=o||(d==null?void 0:d.emit)||((s=d==null?void 0:d.$emit)==null?void 0:s.bind(d))||((i=(a=d==null?void 0:d.proxy)==null?void 0:a.$emit)==null?void 0:i.bind(d==null?void 0:d.proxy));let g=m;g=g||`update:${t.toString()}`;const w=E=>l?typeof l=="function"?l(E):ht(E):E,y=()=>at(n[t])?w(n[t]):f,C=E=>{h?h(E)&&p(g,E):p(g,E)};if(c){const E=y(),k=e.ref(E);let A=!1;return e.watch(()=>n[t],B=>{A||(A=!0,k.value=w(B),e.nextTick(()=>A=!1))}),e.watch(k,B=>{!A&&(B!==n[t]||u)&&C(B)},{deep:u}),k}else return e.computed({get(){return y()},set(E){C(E)}})}function Ce(n,t){const o=typeof n=="string"&&!t?`${n}Context`:t,r=Symbol(o);return[i=>{const l=e.inject(r,i);if(l||l===null)return l;throw new Error(`Injection \`${r.toString()}\` not found. Component must be used within ${Array.isArray(n)?`one of the following components: ${n.join(", ")}`:`\`${n}\``}`)},i=>(e.provide(r,i),i)]}const[be,xn]=Ce("ConfigProvider");function S(){const n=e.getCurrentInstance(),t=e.ref(),o=e.computed(()=>{var i,l;return["#text","#comment"].includes((i=t.value)==null?void 0:i.$el.nodeName)?(l=t.value)==null?void 0:l.$el.nextElementSibling:G(t)}),r=Object.assign({},n.exposed),s={};for(const i in n.props)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>n.props[i]});if(Object.keys(r).length>0)for(const i in r)Object.defineProperty(s,i,{enumerable:!0,configurable:!0,get:()=>r[i]});Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>n.vnode.el}),n.exposed=s;function a(i){t.value=i,i&&(Object.defineProperty(s,"$el",{enumerable:!0,configurable:!0,get:()=>i instanceof Element?i:i.$el}),n.exposed=s)}return{forwardRef:a,currentRef:t,currentElement:o}}let yt=0;function Ee(n,t="reka"){var r;const o=be({useId:void 0});return Object.hasOwn(_,"useId")?`${t}-${(r=_.useId)==null?void 0:r.call(_)}`:o.useId?`${t}-${o.useId()}`:`${t}-${++yt}`}function wt(n,t){const o=e.ref(n);function r(a){return t[o.value][a]??o.value}return{state:o,dispatch:a=>{o.value=r(a)}}}function xt(n,t){var w;const o=e.ref({}),r=e.ref("none"),s=e.ref(n),a=n.value?"mounted":"unmounted";let i;const l=((w=t.value)==null?void 0:w.ownerDocument.defaultView)??re,{state:c,dispatch:m}=wt(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),u=y=>{var C;if(I){const E=new CustomEvent(y,{bubbles:!1,cancelable:!1});(C=t.value)==null||C.dispatchEvent(E)}};e.watch(n,async(y,C)=>{var k;const E=C!==y;if(await e.nextTick(),E){const A=r.value,B=J(t.value);y?(m("MOUNT"),u("enter"),B==="none"&&u("after-enter")):B==="none"||B==="undefined"||((k=o.value)==null?void 0:k.display)==="none"?(m("UNMOUNT"),u("leave"),u("after-leave")):C&&A!==B?(m("ANIMATION_OUT"),u("leave")):(m("UNMOUNT"),u("after-leave"))}},{immediate:!0});const f=y=>{const C=J(t.value),E=C.includes(y.animationName),k=c.value==="mounted"?"enter":"leave";if(y.target===t.value&&E&&(u(`after-${k}`),m("ANIMATION_END"),!s.value)){const A=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",i=l==null?void 0:l.setTimeout(()=>{var B;((B=t.value)==null?void 0:B.style.animationFillMode)==="forwards"&&(t.value.style.animationFillMode=A)})}y.target===t.value&&C==="none"&&m("ANIMATION_END")},h=y=>{y.target===t.value&&(r.value=J(t.value))},d=e.watch(t,(y,C)=>{y?(o.value=getComputedStyle(y),y.addEventListener("animationstart",h),y.addEventListener("animationcancel",f),y.addEventListener("animationend",f)):(m("ANIMATION_END"),i!==void 0&&(l==null||l.clearTimeout(i)),C==null||C.removeEventListener("animationstart",h),C==null||C.removeEventListener("animationcancel",f),C==null||C.removeEventListener("animationend",f))},{immediate:!0}),p=e.watch(c,()=>{const y=J(t.value);r.value=c.value==="mounted"?y:"none"});return e.onUnmounted(()=>{d(),p()}),{isPresent:e.computed(()=>["mounted","unmountSuspended"].includes(c.value))}}function J(n){return n&&getComputedStyle(n).animationName||"none"}const Oe=e.defineComponent({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(n,{slots:t,expose:o}){var m;const{present:r,forceMount:s}=e.toRefs(n),a=e.ref(),{isPresent:i}=xt(r,a);o({present:i});let l=t.default({present:i.value});l=ne(l||[]);const c=e.getCurrentInstance();if(l&&(l==null?void 0:l.length)>1){const u=(m=c==null?void 0:c.parent)!=null&&m.type.name?`<${c.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(f=>`  - ${f}`).join(`
`)].join(`
`))}return()=>s.value||r.value||i.value?e.h(t.default({present:i.value})[0],{ref:u=>{const f=G(u);return typeof(f==null?void 0:f.hasAttribute)>"u"||(f!=null&&f.hasAttribute("data-reka-popper-content-wrapper")?a.value=f.firstElementChild:a.value=f),f}}):null}}),[D,Ct]=Ce("DialogRoot"),bt=e.defineComponent({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:!1},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(n,{emit:t}){const o=n,s=gt(o,"open",t,{defaultValue:o.defaultOpen,passive:o.open===void 0}),a=e.ref(),i=e.ref(),{modal:l}=e.toRefs(o);return Ct({open:s,modal:l,openModal:()=>{s.value=!0},onOpenChange:c=>{s.value=c},onOpenToggle:()=>{s.value=!s.value},contentId:"",titleId:"",descriptionId:"",triggerElement:a,contentElement:i}),(c,m)=>e.renderSlot(c.$slots,"default",{open:e.unref(s),close:()=>s.value=!1})}}),Et=e.defineComponent({__name:"DialogClose",props:{asChild:{type:Boolean},as:{default:"button"}},setup(n){const t=n;S();const o=D();return(r,s)=>(e.openBlock(),e.createBlock(e.unref(F),e.mergeProps(t,{type:r.as==="button"?"button":void 0,onClick:s[0]||(s[0]=a=>e.unref(o).onOpenChange(!1))}),{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default")]),_:3},16,["type"]))}});function ae(n){const t=e.getCurrentInstance(),o=t==null?void 0:t.type.emits,r={};return o!=null&&o.length||console.warn(`No emitted event found. Please check component: ${t==null?void 0:t.type.__name}`),o==null||o.forEach(s=>{r[e.toHandlerKey(e.camelize(s))]=(...a)=>n(s,...a)}),r}function P(){let n=document.activeElement;if(n==null)return null;for(;n!=null&&n.shadowRoot!=null&&n.shadowRoot.activeElement!=null;)n=n.shadowRoot.activeElement;return n}function Ot(n){return n?"open":"closed"}const vt="DialogTitle",Bt="DialogContent";function St({titleName:n=vt,contentName:t=Bt,componentLink:o="dialog.html#title",titleId:r,descriptionId:s,contentElement:a}){const i=`Warning: \`${t}\` requires a \`${n}\` for the component to be accessible for screen reader users.

If you want to hide the \`${n}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://www.reka-ui.com/docs/components/${o}`,l=`Warning: Missing \`Description\` or \`aria-describedby="undefined"\` for ${t}.`;e.onMounted(()=>{var u;document.getElementById(r)||console.warn(i);const m=(u=a.value)==null?void 0:u.getAttribute("aria-describedby");s&&m&&(document.getElementById(s)||console.warn(l))})}const kt=ot(()=>e.ref([]));function At(){const n=kt();return{add(t){const o=n.value[0];t!==o&&(o==null||o.pause()),n.value=ve(n.value,t),n.value.unshift(t)},remove(t){var o;n.value=ve(n.value,t),(o=n.value[0])==null||o.resume()}}}function ve(n,t){const o=[...n],r=o.indexOf(t);return r!==-1&&o.splice(r,1),o}function Mt(n){return n.filter(t=>t.tagName!=="A")}const se="focusScope.autoFocusOnMount",ie="focusScope.autoFocusOnUnmount",Be={bubbles:!1,cancelable:!0};function Dt(n,{select:t=!1}={}){const o=P();for(const r of n)if($(r,{select:t}),P()!==o)return!0}function Pt(n){const t=Se(n),o=ke(t,n),r=ke(t.reverse(),n);return[o,r]}function Se(n){const t=[],o=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;o.nextNode();)t.push(o.currentNode);return t}function ke(n,t){for(const o of n)if(!$t(o,{upTo:t}))return o}function $t(n,{upTo:t}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(t!==void 0&&n===t)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function It(n){return n instanceof HTMLInputElement&&"select"in n}function $(n,{select:t=!1}={}){if(n&&n.focus){const o=P();n.focus({preventScroll:!0}),n!==o&&It(n)&&t&&n.select()}}const Nt=e.defineComponent({__name:"FocusScope",props:{loop:{type:Boolean,default:!1},trapped:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["mountAutoFocus","unmountAutoFocus"],setup(n,{emit:t}){const o=n,r=t,{currentRef:s,currentElement:a}=S(),i=e.ref(null),l=At(),c=e.reactive({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}});e.watchEffect(u=>{if(!I)return;const f=a.value;if(!o.trapped)return;function h(w){if(c.paused||!f)return;const y=w.target;f.contains(y)?i.value=y:$(i.value,{select:!0})}function d(w){if(c.paused||!f)return;const y=w.relatedTarget;y!==null&&(f.contains(y)||$(i.value,{select:!0}))}function p(w){f.contains(i.value)||$(f)}document.addEventListener("focusin",h),document.addEventListener("focusout",d);const g=new MutationObserver(p);f&&g.observe(f,{childList:!0,subtree:!0}),u(()=>{document.removeEventListener("focusin",h),document.removeEventListener("focusout",d),g.disconnect()})}),e.watchEffect(async u=>{const f=a.value;if(await e.nextTick(),!f)return;l.add(c);const h=P();if(!f.contains(h)){const p=new CustomEvent(se,Be);f.addEventListener(se,g=>r("mountAutoFocus",g)),f.dispatchEvent(p),p.defaultPrevented||(Dt(Mt(Se(f)),{select:!0}),P()===h&&$(f))}u(()=>{f.removeEventListener(se,w=>r("mountAutoFocus",w));const p=new CustomEvent(ie,Be),g=w=>{r("unmountAutoFocus",w)};f.addEventListener(ie,g),f.dispatchEvent(p),setTimeout(()=>{p.defaultPrevented||$(h??document.body,{select:!0}),f.removeEventListener(ie,g),l.remove(c)},0)})});function m(u){if(!o.loop&&!o.trapped||c.paused)return;const f=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,h=P();if(f&&h){const d=u.currentTarget,[p,g]=Pt(d);p&&g?!u.shiftKey&&h===g?(u.preventDefault(),o.loop&&$(p,{select:!0})):u.shiftKey&&h===p&&(u.preventDefault(),o.loop&&$(g,{select:!0})):h===d&&u.preventDefault()}}return(u,f)=>(e.openBlock(),e.createBlock(e.unref(F),{ref_key:"currentRef",ref:s,tabindex:"-1","as-child":u.asChild,as:u.as,onKeydown:m},{default:e.withCtx(()=>[e.renderSlot(u.$slots,"default")]),_:3},8,["as-child","as"]))}});function Ae(n,t,o){const r=o.originalEvent.target,s=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:o});t&&r.addEventListener(n,t,{once:!0}),r.dispatchEvent(s)}const Tt="dismissableLayer.pointerDownOutside",Lt="dismissableLayer.focusOutside";function Me(n,t){const o=t.closest("[data-dismissable-layer]"),r=n.dataset.dismissableLayer===""?n:n.querySelector("[data-dismissable-layer]"),s=Array.from(n.ownerDocument.querySelectorAll("[data-dismissable-layer]"));return!!(o&&(r===o||s.indexOf(r)<s.indexOf(o)))}function Ft(n,t,o=!0){var i;const r=((i=t==null?void 0:t.value)==null?void 0:i.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=e.ref(!1),a=e.ref(()=>{});return e.watchEffect(l=>{if(!I||!e.toValue(o))return;const c=async u=>{const f=u.target;if(!(!(t!=null&&t.value)||!f)){if(Me(t.value,f)){s.value=!1;return}if(u.target&&!s.value){let h=function(){Ae(Tt,n,d)};const d={originalEvent:u};u.pointerType==="touch"?(r.removeEventListener("click",a.value),a.value=h,r.addEventListener("click",a.value,{once:!0})):h()}else r.removeEventListener("click",a.value);s.value=!1}},m=window.setTimeout(()=>{r.addEventListener("pointerdown",c)},0);l(()=>{window.clearTimeout(m),r.removeEventListener("pointerdown",c),r.removeEventListener("click",a.value)})}),{onPointerDownCapture:()=>{e.toValue(o)&&(s.value=!0)}}}function Ut(n,t,o=!0){var a;const r=((a=t==null?void 0:t.value)==null?void 0:a.ownerDocument)??(globalThis==null?void 0:globalThis.document),s=e.ref(!1);return e.watchEffect(i=>{if(!I||!e.toValue(o))return;const l=async c=>{if(!(t!=null&&t.value))return;await e.nextTick(),await e.nextTick();const m=c.target;!t.value||!m||Me(t.value,m)||c.target&&!s.value&&Ae(Lt,n,{originalEvent:c})};r.addEventListener("focusin",l),i(()=>r.removeEventListener("focusin",l))}),{onFocusCapture:()=>{e.toValue(o)&&(s.value=!0)},onBlurCapture:()=>{e.toValue(o)&&(s.value=!1)}}}const M=e.reactive({layersRoot:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),jt=e.defineComponent({__name:"DismissableLayer",props:{disableOutsidePointerEvents:{type:Boolean,default:!1},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","dismiss"],setup(n,{emit:t}){const o=n,r=t,{forwardRef:s,currentElement:a}=S(),i=e.computed(()=>{var p;return((p=a.value)==null?void 0:p.ownerDocument)??globalThis.document}),l=e.computed(()=>M.layersRoot),c=e.computed(()=>a.value?Array.from(l.value).indexOf(a.value):-1),m=e.computed(()=>M.layersWithOutsidePointerEventsDisabled.size>0),u=e.computed(()=>{const p=Array.from(l.value),[g]=[...M.layersWithOutsidePointerEventsDisabled].slice(-1),w=p.indexOf(g);return c.value>=w}),f=Ft(async p=>{const g=[...M.branches].some(w=>w==null?void 0:w.contains(p.target));!u.value||g||(r("pointerDownOutside",p),r("interactOutside",p),await e.nextTick(),p.defaultPrevented||r("dismiss"))},a),h=Ut(p=>{[...M.branches].some(w=>w==null?void 0:w.contains(p.target))||(r("focusOutside",p),r("interactOutside",p),p.defaultPrevented||r("dismiss"))},a);pt("Escape",p=>{c.value===l.value.size-1&&(r("escapeKeyDown",p),p.defaultPrevented||r("dismiss"))});let d;return e.watchEffect(p=>{a.value&&(o.disableOutsidePointerEvents&&(M.layersWithOutsidePointerEventsDisabled.size===0&&(d=i.value.body.style.pointerEvents,i.value.body.style.pointerEvents="none"),M.layersWithOutsidePointerEventsDisabled.add(a.value)),l.value.add(a.value),p(()=>{o.disableOutsidePointerEvents&&M.layersWithOutsidePointerEventsDisabled.size===1&&(i.value.body.style.pointerEvents=d)}))}),e.watchEffect(p=>{p(()=>{a.value&&(l.value.delete(a.value),M.layersWithOutsidePointerEventsDisabled.delete(a.value))})}),(p,g)=>(e.openBlock(),e.createBlock(e.unref(F),{ref:e.unref(s),"as-child":p.asChild,as:p.as,"data-dismissable-layer":"",style:e.normalizeStyle({pointerEvents:m.value?u.value?"auto":"none":void 0}),onFocusCapture:e.unref(h).onFocusCapture,onBlurCapture:e.unref(h).onBlurCapture,onPointerdownCapture:e.unref(f).onPointerDownCapture},{default:e.withCtx(()=>[e.renderSlot(p.$slots,"default")]),_:3},8,["as-child","as","style","onFocusCapture","onBlurCapture","onPointerdownCapture"]))}}),De=e.defineComponent({__name:"DialogContentImpl",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const o=n,r=t,s=D(),{forwardRef:a,currentElement:i}=S();return s.titleId||(s.titleId=Ee(void 0,"reka-dialog-title")),s.descriptionId||(s.descriptionId=Ee(void 0,"reka-dialog-description")),e.onMounted(()=>{s.contentElement=i,P()!==document.body&&(s.triggerElement.value=P())}),process.env.NODE_ENV!=="production"&&St({titleName:"DialogTitle",contentName:"DialogContent",componentLink:"dialog.html#title",titleId:s.titleId,descriptionId:s.descriptionId,contentElement:i}),(l,c)=>(e.openBlock(),e.createBlock(e.unref(Nt),{"as-child":"",loop:"",trapped:o.trapFocus,onMountAutoFocus:c[5]||(c[5]=m=>r("openAutoFocus",m)),onUnmountAutoFocus:c[6]||(c[6]=m=>r("closeAutoFocus",m))},{default:e.withCtx(()=>[e.createVNode(e.unref(jt),e.mergeProps({id:e.unref(s).contentId,ref:e.unref(a),as:l.as,"as-child":l.asChild,"disable-outside-pointer-events":l.disableOutsidePointerEvents,role:"dialog","aria-describedby":e.unref(s).descriptionId,"aria-labelledby":e.unref(s).titleId,"data-state":e.unref(Ot)(e.unref(s).open.value)},l.$attrs,{onDismiss:c[0]||(c[0]=m=>e.unref(s).onOpenChange(!1)),onEscapeKeyDown:c[1]||(c[1]=m=>r("escapeKeyDown",m)),onFocusOutside:c[2]||(c[2]=m=>r("focusOutside",m)),onInteractOutside:c[3]||(c[3]=m=>r("interactOutside",m)),onPointerDownOutside:c[4]||(c[4]=m=>r("pointerDownOutside",m))}),{default:e.withCtx(()=>[e.renderSlot(l.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}});var Rt=function(n){if(typeof document>"u")return null;var t=Array.isArray(n)?n[0]:n;return t.ownerDocument.body},U=new WeakMap,Y=new WeakMap,Z={},le=0,Pe=function(n){return n&&(n.host||Pe(n.parentNode))},Wt=function(n,t){return t.map(function(o){if(n.contains(o))return o;var r=Pe(o);return r&&n.contains(r)?r:(console.error("aria-hidden",o,"in not contained inside",n,". Doing nothing"),null)}).filter(function(o){return!!o})},Vt=function(n,t,o,r){var s=Wt(t,Array.isArray(n)?n:[n]);Z[o]||(Z[o]=new WeakMap);var a=Z[o],i=[],l=new Set,c=new Set(s),m=function(f){!f||l.has(f)||(l.add(f),m(f.parentNode))};s.forEach(m);var u=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(h){if(l.has(h))u(h);else try{var d=h.getAttribute(r),p=d!==null&&d!=="false",g=(U.get(h)||0)+1,w=(a.get(h)||0)+1;U.set(h,g),a.set(h,w),i.push(h),g===1&&p&&Y.set(h,!0),w===1&&h.setAttribute(o,"true"),p||h.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",h,y)}})};return u(t),l.clear(),le++,function(){i.forEach(function(f){var h=U.get(f)-1,d=a.get(f)-1;U.set(f,h),a.set(f,d),h||(Y.has(f)||f.removeAttribute(r),Y.delete(f)),d||f.removeAttribute(o)}),le--,le||(U=new WeakMap,U=new WeakMap,Y=new WeakMap,Z={})}},_t=function(n,t,o){o===void 0&&(o="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=Rt(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),Vt(r,s,o,"aria-hidden")):function(){return null}};function Kt(n){let t;e.watch(()=>G(n),o=>{o?t=_t(o):t&&t()}),e.onUnmounted(()=>{t&&t()})}const qt=e.defineComponent({__name:"DialogContentModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const o=n,r=t,s=D(),a=ae(r),{forwardRef:i,currentElement:l}=S();return Kt(l),(c,m)=>(e.openBlock(),e.createBlock(De,e.mergeProps({...o,...e.unref(a)},{ref:e.unref(i),"trap-focus":e.unref(s).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:m[0]||(m[0]=u=>{var f;u.defaultPrevented||(u.preventDefault(),(f=e.unref(s).triggerElement.value)==null||f.focus())}),onPointerDownOutside:m[1]||(m[1]=u=>{const f=u.detail.originalEvent,h=f.button===0&&f.ctrlKey===!0;(f.button===2||h)&&u.preventDefault()}),onFocusOutside:m[2]||(m[2]=u=>{u.preventDefault()})}),{default:e.withCtx(()=>[e.renderSlot(c.$slots,"default")]),_:3},16,["trap-focus"]))}}),zt=e.defineComponent({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const o=n,s=ae(t);S();const a=D(),i=e.ref(!1),l=e.ref(!1);return(c,m)=>(e.openBlock(),e.createBlock(De,e.mergeProps({...o,...e.unref(s)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:m[0]||(m[0]=u=>{var f;u.defaultPrevented||(i.value||(f=e.unref(a).triggerElement.value)==null||f.focus(),u.preventDefault()),i.value=!1,l.value=!1}),onInteractOutside:m[1]||(m[1]=u=>{var d;u.defaultPrevented||(i.value=!0,u.detail.originalEvent.type==="pointerdown"&&(l.value=!0));const f=u.target;((d=e.unref(a).triggerElement.value)==null?void 0:d.contains(f))&&u.preventDefault(),u.detail.originalEvent.type==="focusin"&&l.value&&u.preventDefault()})}),{default:e.withCtx(()=>[e.renderSlot(c.$slots,"default")]),_:3},16))}}),$e=e.defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:t}){const o=n,r=t,s=D(),a=ae(r),{forwardRef:i}=S();return(l,c)=>(e.openBlock(),e.createBlock(e.unref(Oe),{present:l.forceMount||e.unref(s).open.value},{default:e.withCtx(()=>[e.unref(s).modal.value?(e.openBlock(),e.createBlock(qt,e.mergeProps({key:0,ref:e.unref(i)},{...o,...e.unref(a),...l.$attrs}),{default:e.withCtx(()=>[e.renderSlot(l.$slots,"default")]),_:3},16)):(e.openBlock(),e.createBlock(zt,e.mergeProps({key:1,ref:e.unref(i)},{...o,...e.unref(a),...l.$attrs}),{default:e.withCtx(()=>[e.renderSlot(l.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}});function ce(n){if(n===null||typeof n!="object")return!1;const t=Object.getPrototypeOf(n);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in n?!1:Symbol.toStringTag in n?Object.prototype.toString.call(n)==="[object Module]":!0}function de(n,t,o=".",r){if(!ce(t))return de(n,{},o,r);const s=Object.assign({},t);for(const a in n){if(a==="__proto__"||a==="constructor")continue;const i=n[a];i!=null&&(r&&r(s,a,i,o)||(Array.isArray(i)&&Array.isArray(s[a])?s[a]=[...i,...s[a]]:ce(i)&&ce(s[a])?s[a]=de(i,s[a],(o?`${o}.`:"")+a.toString(),r):s[a]=i))}return s}function Xt(n){return(...t)=>t.reduce((o,r)=>de(o,r,"",n),{})}const Ht=Xt(),Gt=rt(()=>{const n=e.ref(new Map),t=e.ref(),o=e.computed(()=>{for(const i of n.value.values())if(i)return!0;return!1}),r=be({scrollBody:e.ref(!0)});let s=null;const a=()=>{document.body.style.paddingRight="",document.body.style.marginRight="",document.body.style.pointerEvents="",document.documentElement.style.removeProperty("--scrollbar-width"),document.body.style.overflow=t.value??"",we&&(s==null||s()),t.value=void 0};return e.watch(o,(i,l)=>{var f;if(!I)return;if(!i){l&&a();return}t.value===void 0&&(t.value=document.body.style.overflow);const c=window.innerWidth-document.documentElement.clientWidth,m={padding:c,margin:0},u=(f=r.scrollBody)!=null&&f.value?typeof r.scrollBody.value=="object"?Ht({padding:r.scrollBody.value.padding===!0?c:r.scrollBody.value.padding,margin:r.scrollBody.value.margin===!0?c:r.scrollBody.value.margin},m):m:{padding:0,margin:0};c>0&&(document.body.style.paddingRight=typeof u.padding=="number"?`${u.padding}px`:String(u.padding),document.body.style.marginRight=typeof u.margin=="number"?`${u.margin}px`:String(u.margin),document.documentElement.style.setProperty("--scrollbar-width",`${c}px`),document.body.style.overflow="hidden"),we&&(s=xe(document,"touchmove",h=>Yt(h),{passive:!1})),e.nextTick(()=>{document.body.style.pointerEvents="none",document.body.style.overflow="hidden"})},{immediate:!0,flush:"sync"}),n});function Jt(n){const t=Math.random().toString(36).substring(2,7),o=Gt();o.value.set(t,n);const r=e.computed({get:()=>o.value.get(t)??!1,set:s=>o.value.set(t,s)});return dt(()=>{o.value.delete(t)}),r}function Ie(n){const t=window.getComputedStyle(n);if(t.overflowX==="scroll"||t.overflowY==="scroll"||t.overflowX==="auto"&&n.clientWidth<n.scrollWidth||t.overflowY==="auto"&&n.clientHeight<n.scrollHeight)return!0;{const o=n.parentNode;return!(o instanceof Element)||o.tagName==="BODY"?!1:Ie(o)}}function Yt(n){const t=n||window.event,o=t.target;return o instanceof Element&&Ie(o)?!1:t.touches.length>1?!0:(t.preventDefault&&t.cancelable&&t.preventDefault(),!1)}const Zt=e.defineComponent({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean},as:{}},setup(n){const t=D();return Jt(!0),S(),(o,r)=>(e.openBlock(),e.createBlock(e.unref(F),{as:o.as,"as-child":o.asChild,"data-state":e.unref(t).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Qt=e.defineComponent({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{}},setup(n){const t=D(),{forwardRef:o}=S();return(r,s)=>{var a;return(a=e.unref(t))!=null&&a.modal.value?(e.openBlock(),e.createBlock(e.unref(Oe),{key:0,present:r.forceMount||e.unref(t).open.value},{default:e.withCtx(()=>[e.createVNode(Zt,e.mergeProps(r.$attrs,{ref:e.unref(o),as:r.as,"as-child":r.asChild}),{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):e.createCommentVNode("",!0)}}}),en=e.defineComponent({__name:"Teleport",props:{to:{default:"body"},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const t=ft();return(o,r)=>e.unref(t)||o.forceMount?(e.openBlock(),e.createBlock(e.Teleport,{key:0,to:o.to,disabled:o.disabled,defer:o.defer},[e.renderSlot(o.$slots,"default")],8,["to","disabled","defer"])):e.createCommentVNode("",!0)}}),Ne=e.defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{default:"h2"}},setup(n){const t=n,o=D();return S(),(r,s)=>(e.openBlock(),e.createBlock(e.unref(F),e.mergeProps(t,{id:e.unref(o).titleId}),{default:e.withCtx(()=>[e.renderSlot(r.$slots,"default")]),_:3},16,["id"]))}}),tn=e.defineComponent({__name:"DialogPortal",props:{to:{},disabled:{type:Boolean},defer:{type:Boolean},forceMount:{type:Boolean}},setup(n){const t=n;return(o,r)=>(e.openBlock(),e.createBlock(e.unref(en),e.normalizeProps(e.guardReactiveProps(t)),{default:e.withCtx(()=>[e.renderSlot(o.$slots,"default")]),_:3},16))}}),Te={__name:"CloseButton",setup(n){return(t,o)=>(e.openBlock(),e.createBlock(e.unref(Et),{class:"im-close-button text-gray-400 hover:text-gray-500"},{default:e.withCtx(()=>o[0]||(o[0]=[e.createElementVNode("span",{class:"sr-only"},"Close",-1),e.createElementVNode("svg",{class:"size-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[e.createElementVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})],-1)])),_:1,__:[0]}))}},nn={class:"im-modal-container fixed inset-0 z-40 overflow-y-auto p-4"},on=["data-inertiaui-modal-entered"],rn={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},an={__name:"ModalContent",props:{modalContext:Object,config:Object},setup(n){const t=e.ref(!1);return(o,r)=>(e.openBlock(),e.createElementBlock("div",nn,[e.createElementVNode("div",{class:e.normalizeClass(["im-modal-positioner flex min-h-full justify-center",{"items-start":n.config.position==="top","items-center":n.config.position==="center","items-end":n.config.position==="bottom"}])},[e.createVNode(e.Transition,{appear:"","enter-from-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95","enter-to-class":"opacity-100 translate-y-0 sm:scale-100","leave-from-class":"opacity-100 translate-y-0 sm:scale-100","leave-to-class":"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",onAfterEnter:r[2]||(r[2]=s=>t.value=!0),onAfterLeave:n.modalContext.afterLeave},{default:e.withCtx(()=>[e.createVNode(e.unref($e),{"aria-describedby":void 0,class:e.normalizeClass({"im-modal-wrapper w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"}),onEscapeKeyDown:r[0]||(r[0]=s=>{var a;return((a=n.config)==null?void 0:a.closeExplicitly)&&s.preventDefault()}),onInteractOutside:r[1]||(r[1]=s=>{var a;return((a=n.config)==null?void 0:a.closeExplicitly)&&s.preventDefault()})},{default:e.withCtx(()=>[e.createVNode(e.unref(ge),{"as-child":""},{default:e.withCtx(()=>[e.createVNode(e.unref(Ne))]),_:1}),e.createElementVNode("div",{class:e.normalizeClass(["im-modal-content relative",[n.config.paddingClasses,n.config.panelClasses]]),"data-inertiaui-modal-entered":t.value},[n.config.closeButton?(e.openBlock(),e.createElementBlock("div",rn,[e.createVNode(Te)])):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default",{modalContext:n.modalContext,config:n.config})],10,on)]),_:3},8,["class"])]),_:3},8,["onAfterLeave"])],2)]))}},sn={class:"im-slideover-container fixed inset-0 z-40 overflow-y-auto overflow-x-hidden"},ln=["data-inertiaui-modal-entered"],cn={key:0,class:"absolute right-0 top-0 pr-3 pt-3"},dn={__name:"SlideoverContent",props:{modalContext:Object,config:Object},setup(n){const t=e.ref(!1);return(o,r)=>(e.openBlock(),e.createElementBlock("div",sn,[e.createElementVNode("div",{class:e.normalizeClass(["im-slideover-positioner flex min-h-full items-center",{"justify-start rtl:justify-end":n.config.position==="left","justify-end rtl:justify-start":n.config.position==="right"}])},[e.createVNode(e.Transition,{appear:"","enter-from-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),"enter-to-class":"opacity-100 translate-x-0","leave-from-class":"opacity-100 translate-x-0","leave-to-class":"opacity-0 "+(n.config.position==="left"?"-translate-x-full":"translate-x-full"),onAfterEnter:r[2]||(r[2]=s=>t.value=!0),onAfterLeave:n.modalContext.afterLeave},{default:e.withCtx(()=>[e.createVNode(e.unref($e),{"aria-describedby":void 0,class:e.normalizeClass({"im-slideover-wrapper w-full transition duration-300 ease-in-out":!0,"blur-sm":!n.modalContext.onTopOfStack,"sm:max-w-sm":n.config.maxWidth=="sm","sm:max-w-md":n.config.maxWidth=="md","sm:max-w-md md:max-w-lg":n.config.maxWidth=="lg","sm:max-w-md md:max-w-xl":n.config.maxWidth=="xl","sm:max-w-md md:max-w-xl lg:max-w-2xl":n.config.maxWidth=="2xl","sm:max-w-md md:max-w-xl lg:max-w-3xl":n.config.maxWidth=="3xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-4xl":n.config.maxWidth=="4xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl":n.config.maxWidth=="5xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-6xl":n.config.maxWidth=="6xl","sm:max-w-md md:max-w-xl lg:max-w-3xl xl:max-w-5xl 2xl:max-w-7xl":n.config.maxWidth=="7xl"}),onEscapeKeyDown:r[0]||(r[0]=s=>{var a;return((a=n.config)==null?void 0:a.closeExplicitly)&&s.preventDefault()}),onInteractOutside:r[1]||(r[1]=s=>{var a;return((a=n.config)==null?void 0:a.closeExplicitly)&&s.preventDefault()})},{default:e.withCtx(()=>[e.createVNode(e.unref(ge),{"as-child":""},{default:e.withCtx(()=>[e.createVNode(e.unref(Ne))]),_:1}),e.createElementVNode("div",{class:e.normalizeClass(["im-slideover-content relative",[n.config.paddingClasses,n.config.panelClasses]]),"data-inertiaui-modal-entered":t.value},[n.config.closeButton?(e.openBlock(),e.createElementBlock("div",cn,[e.createVNode(Te)])):e.createCommentVNode("",!0),e.renderSlot(o.$slots,"default",{modalContext:n.modalContext,config:n.config})],10,ln)]),_:3},8,["class"])]),_:3},8,["enter-from-class","leave-to-class","onAfterLeave"])],2)]))}},un=["data-inertiaui-modal-id","data-inertiaui-modal-index","aria-hidden"],fn={key:1,class:"im-backdrop fixed inset-0 z-30 bg-black/75"},mn={__name:"Modal",emits:["after-leave","blur","close","focus","success"],setup(n,{expose:t}){const o=e.ref(null),r=e.ref(!1);t({afterLeave:()=>{var a;return(a=o.value)==null?void 0:a.afterLeave()},close:()=>{var a;return(a=o.value)==null?void 0:a.close()},emit:(...a)=>{var i;return(i=o.value)==null?void 0:i.emit(...a)},getChildModal:()=>{var a;return(a=o.value)==null?void 0:a.getChildModal()},getParentModal:()=>{var a;return(a=o.value)==null?void 0:a.getParentModal()},reload:(...a)=>{var i;return(i=o.value)==null?void 0:i.reload(...a)},setOpen:(...a)=>{var i;return(i=o.value)==null?void 0:i.setOpen(...a)},get config(){var a;return(a=o.value)==null?void 0:a.config},get id(){var a;return(a=o.value)==null?void 0:a.id},get index(){var a;return(a=o.value)==null?void 0:a.index},get isOpen(){var a;return(a=o.value)==null?void 0:a.isOpen},get modalContext(){var a;return(a=o.value)==null?void 0:a.modalContext},get onTopOfStack(){var a;return(a=o.value)==null?void 0:a.onTopOfStack},get shouldRender(){var a;return(a=o.value)==null?void 0:a.shouldRender}});let s;return e.onBeforeMount(()=>{s=new MutationObserver(()=>{document.body.style.pointerEvents==="none"&&(document.body.style.pointerEvents="")}),s.observe(document.body,{attributes:!0,attributeFilter:["style"]})}),e.onUnmounted(()=>{s&&(s.disconnect(),s=null)}),(a,i)=>(e.openBlock(),e.createBlock(he,{ref_key:"modal",ref:o,onSuccess:i[2]||(i[2]=l=>a.$emit("success")),onClose:i[3]||(i[3]=l=>a.$emit("close")),onFocus:i[4]||(i[4]=l=>a.$emit("focus")),onBlur:i[5]||(i[5]=l=>a.$emit("blur"))},{default:e.withCtx(({afterLeave:l,close:c,config:m,emit:u,getChildModal:f,getParentModal:h,id:d,index:p,isOpen:g,modalContext:w,onTopOfStack:y,reload:C,setOpen:E,shouldRender:k})=>[e.createVNode(e.unref(bt),{open:g,"onUpdate:open":E},{default:e.withCtx(()=>[e.createVNode(e.unref(tn),null,{default:e.withCtx(()=>[e.createElementVNode("div",{"data-inertiaui-modal-id":d,"data-inertiaui-modal-index":p,class:"im-dialog relative z-20","aria-hidden":!y},[p===0&&y?(e.openBlock(),e.createBlock(e.Transition,{key:0,appear:!r.value,"enter-active-class":"transition transform ease-in-out duration-300","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"transition transform ease-in-out duration-300","leave-from-class":"opacity-100","leave-to-class":"opacity-0",onAfterAppear:i[0]||(i[0]=A=>r.value=!0)},{default:e.withCtx(()=>[e.createVNode(e.unref(Qt),{class:"im-backdrop fixed inset-0 z-30 bg-black/75"})]),_:1},8,["appear"])):e.createCommentVNode("",!0),p>0&&y?(e.openBlock(),e.createElementBlock("div",fn)):e.createCommentVNode("",!0),(e.openBlock(),e.createBlock(e.resolveDynamicComponent(m!=null&&m.slideover?dn:an),{"modal-context":w,config:m,onAfterLeave:i[1]||(i[1]=A=>a.$emit("after-leave"))},{default:e.withCtx(()=>[e.renderSlot(a.$slots,"default",{id:d,afterLeave:l,close:c,config:m,emit:u,getChildModal:f,getParentModal:h,index:p,isOpen:g,modalContext:w,onTopOfStack:y,reload:C,setOpen:E,shouldRender:k})]),_:2},1064,["modal-context","config"]))],8,un)]),_:2},1024)]),_:2},1032,["open","onUpdate:open"])]),_:3},512))}},pn={__name:"ModalLink",props:{href:{type:String,required:!0},method:{type:String,default:"get"},data:{type:Object,default:()=>({})},as:{type:String,default:"a"},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"},navigate:{type:Boolean,default:null},closeButton:{type:Boolean,required:!1,default:null},closeExplicitly:{type:Boolean,required:!1,default:null},maxWidth:{type:String,required:!1,default:null},paddingClasses:{type:[Boolean,String],required:!1,default:null},panelClasses:{type:[Boolean,String],required:!1,default:null},position:{type:String,required:!1,default:null},slideover:{type:Boolean,required:!1,default:null}},emits:["after-leave","blur","close","error","focus","start","success"],setup(n,{emit:t}){const o=n,r=e.ref(!1),s=W(),a=e.ref(null);e.provide("modalContext",a);const i=t,l=e.ref(!1),c=e.computed(()=>o.navigate??q("navigate"));e.watch(()=>{var g;return(g=a.value)==null?void 0:g.onTopOfStack},g=>{a.value&&(g&&l.value?i("focus"):g||i("blur"),l.value=!g)});const m=e.ref(null);e.onBeforeUnmount(()=>{var g;(g=m.value)==null||g.call(m)});const u=e.useAttrs();function f(){m.value=a.value.registerEventListenersFromAttrs(u)}e.watch(a,(g,w)=>{g&&!w&&(f(),i("success"))});function h(){i("close")}function d(){a.value=null,i("after-leave")}function p(){r.value||(o.href.startsWith("#")||(r.value=!0,i("start")),s.visit(o.href,o.method,o.data,o.headers,_e(ue(o,Ye)),h,d,o.queryStringArrayFormat,c.value).then(g=>{a.value=g}).catch(g=>i("error",g)).finally(()=>r.value=!1))}return(g,w)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(n.as),e.mergeProps(e.unref(u),{href:n.href,onClick:e.withModifiers(p,["prevent"])}),{default:e.withCtx(()=>[e.renderSlot(g.$slots,"default",{loading:r.value})]),_:3},16,["href"]))}},hn={__name:"WhenVisible",props:{data:[String,Array],params:Object,buffer:{type:Number,default:0},as:{type:String,default:"div"},always:{type:Boolean,default:!1}},setup(n){const t=n,o=e.inject("modalContext");if(!o)throw new Error("Deferred component must be used inside a Modal component");const r=e.ref(!1),s=e.ref(!1),a=e.ref(null);let i=null;const l=()=>{if(t.data)return{only:Array.isArray(t.data)?t.data:[t.data]};if(!t.params)throw new Error("You must provide either a `data` or `params` prop.");return t.params},c=()=>{a.value&&(i=new IntersectionObserver(m=>{if(!m[0].isIntersecting||(t.always||i.disconnect(),s.value))return;s.value=!0;const u=l();o.value.reload({...u,onStart:()=>{var f;s.value=!0,(f=u.onStart)==null||f.call(u)},onFinish:()=>{var f;r.value=!0,s.value=!1,(f=u.onFinish)==null||f.call(u)}})},{rootMargin:`${t.buffer}px`}),i.observe(a.value))};return e.onMounted(c),e.onUnmounted(()=>i==null?void 0:i.disconnect()),(m,u)=>(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t.as),{ref_key:"rootElement",ref:a},{default:e.withCtx(()=>[r.value?e.renderSlot(m.$slots,"default",{key:0}):e.renderSlot(m.$slots,"fallback",{key:1})]),_:3},512))}};function gn(n,t={}){return W().visit(n,t.method??"get",t.data??{},t.headers??{},t.config??{},t.onClose,t.onAfterLeave,t.queryStringArrayFormat??"brackets",t.navigate??q("navigate")).then(o=>{const r=t.listeners??{};return Object.keys(r).forEach(s=>{const a=s.replace(/([A-Z])/g,"-$1").toLowerCase();o.on(a,r[s])}),o})}x.Deferred=et,x.HeadlessModal=he,x.Modal=mn,x.ModalLink=pn,x.ModalRoot=me,x.WhenVisible=hn,x.getConfig=q,x.initFromPageProps=qe,x.putConfig=Re,x.renderApp=Ze,x.resetConfig=je,x.useModal=Qe,x.visitModal=gn,Object.defineProperty(x,Symbol.toStringTag,{value:"Module"})});
